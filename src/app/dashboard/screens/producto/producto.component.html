<div class="h-full w-full ">
  <form method="post" action="" class=" w-full h-[145%] mt-[2.5%] pb-[1%] flex flex-col items-center" autocomplete="off"
    [formGroup]="formProducto" (ngSubmit)="procesarFormulario()">
    <!-- PARTE 1 -->
    <!-- INICIO -->
    <div class="flex flex-row w-[80%] h-[33%] gap-[2%] items-center justify-center">

      <label for="fileUpload"
        class=" w-[540px] h-[430px] flex flex-col justify-center items-center text-blue rounded-lg shadow-lg tracking-wide uppercase border border-blue cursor-pointer hover:bg-blue hover:text-white">
        <img id="imagePreview" [src]="imagenProducto()" alt=""
          [class]="estadoImagen() ? 'w-full h-full object-contain' : 'w-[200px] h-[200px] object-contain'" />
        <input id="fileUpload" type='file' class="hidden" (change)="seleccionarImagen($event)" />
      </label>

      <div class="w-[40%] h-[95%] pl-[2%] ">
        <!-- TITULO Producto -->
        <div class="w-full h-[30%]  flex flex-col justify-between">
          <p class=" font-google-anta text-2xl pt-2" style="text-shadow: 1px 1px #31bb11;">Titulo Producto</p>
          <input type="text" placeholder="Titulo" formControlName="titulo"
            class="rounded-md w-full h-[60%] font-google-anta text-2xl pl-4 border-2 border-gray-400 focus:outline-none focus:border-custom-primary focus:border-4">
        </div>
        <!-- PRECIO Producto -->
        <div class="w-full h-[30%]  flex flex-col justify-between">
          <p class=" font-google-anta text-2xl pt-2" style="text-shadow: 1px 1px #31bb11;">Precio BOB</p>
          <input type="number" placeholder="Precio Producto" oninput="validity.valid||(value='1');"
            formControlName="precio"
            class="rounded-md w-full h-[60%] font-google-anta text-2xl pl-4 border-2 border-gray-400 focus:outline-none focus:border-custom-primary focus:border-4">
        </div>
        <!-- Descuento Producto -->
        <div class="w-full h-[30%]  flex flex-col justify-between">
          <p class=" font-google-anta text-2xl pt-2" style="text-shadow: 1px 1px #31bb11;">Descuento</p>
          <input type="number" placeholder="Descuento" oninput="validity.valid||(value='1');"
            formControlName="descuento"
            class="rounded-md w-full h-[60%] font-google-anta text-2xl pl-4 border-2 border-gray-400 focus:outline-none focus:border-custom-primary focus:border-4">
        </div>
      </div>
    </div>
    <!-- FIN -->

    <!-- PARTE 2 -->
    <!-- INICIO -->
    <div class="flex flex-row w-[80%] h-[20%]  gap-[2%] items-center justify-center ">
      <!-- DESCRIPCION OFERTA -->
      <div class="w-[40%] h-[95%]  rounded-2xl border-2 border-gray-400 px-[2%] py-[1%]">
        <p class="mb-[3%] font-google-anta text-2xl pt-2" style="text-shadow: 1px 1px #31bb11;">Descripcion del Producto
        </p>
        <textarea cols="30" rows="2" placeholder="Describa el producto que pondra a la vista"
          formControlName="descripcion"
          class=" w-full h-[70%] font-google-anta text-2xl pl-4 border-2 border-gray-400 focus:outline-none focus:border-custom-primary focus:border-4 rounded-md"
          style="resize: none;"></textarea>
      </div>
      <div class="flex flex-col gap-[3%] w-[38.5%] h-[95%]  items-center justify-center ">
        <div class="relative w-[40%] h-[35%] flex flex-row items-center gap-[2%]">
          <input type="checkbox" id="opcionOffer2" class="peer/opcionOffer2 hidden">
          <label for="opcionOffer2"
            class="bg-open-windown h-10 w-10 bg-cover bg-center cursor-pointer peer-checked/opcionOffer2:bg-close-windown transition-all"></label>
          <input type="text" placeholder="Estado" [value]="valueSelectEstado"
            class="rounded-md w-full h-[90%] text-2xl pl-4 outline-none border-custom-primary border-4 font-google-anta"
            disabled>
          <div
            class="peer-checked/opcionOffer2:visible invisible flex flex-col  absolute  bottom-[100%] left-[14%]  w-[200px] bg-slate-50 rounded-xl shadow-custom-shadow z-10">
            @for (estado of difEstadoProducto; track difEstadoProducto; let last = $last) {
            <div [class]="{'rounded-b-xl' : last}" (click)="updateSelectEstado(estado)"
              class="items-center justify-center flex flex-row gap-4  w-[100%] h-[70px]   border-b-2  border-b-gray-400 border-opacity-50 hover:bg-gray-400 hover:bg-opacity-50">
              <div class="flex flex-col">
                <p class="text-2xl font-bold font-google-anta ">{{estado}}</p>
              </div>
            </div>
            }
          </div>
          <div
            class="peer-checked/opcionOffer2:visible invisible flex flex-col  absolute  bottom-[100%] left-[14%]  w-[200px] bg-slate-50 rounded-xl shadow-custom-shadow z-10">
          </div>
        </div>
        <button type="submit" class="h-[35%] w-[40%] rounded-xl bg-custom-primary border-4 shadow-xl">
          <p class="text-white font-bold font-google-anta text-3xl py-4" style="text-shadow: 2px 2px black;">
            Guardar
          </p>
        </button>
      </div>
    </div>
    <!-- FIN -->
  </form>

  <script src="https://widget.cloudinary.com/v2.0/global/all.js" type="text/javascript"></script>
  <script src="upload_widget.js" type="text/javascript"></script>
</div>